# GSoC'22 RoboComp project: Self-Adaptive controller for path following

For GSoC'22 a paper titled "On adaptive sliding mode control without a priori bounded uncertainty" has been implemented on a giraff robot using Robocomp framework visualised on Coppelia Sim to adaptively track a trajectory.

## Setting up RoboComp Environment

The first step was to set up the robocomp enviroment with DSR-Cortex components, pyrep and Robocomp-giraff components. The path_planner_astar component is used to generate the trajectory to track. The mission controller component of robocomp-giraff component was used to give waypoints to the planner to generate a trajectory. Different environments of Coppelia sim were used to test the performace at sharp turns around different obstacles. This setup is used to test the performance of the controller.
 
## Sliding Mode Control

A sliding surface was designed with the two variables need to be compensated, the Angular Error($\theta_a$) and the Front Lateral Distance Error $d_f$ with respective gain variables. A controller is then derived used this surface, system dynamics and error feedback to obtain at a controller(as shown in formulation post) that could compensate for angular error and front lateral distance error by generating the rotational velocity and advance velocity for the giraff so as to track a trajectory generated by the a-star algorithm. The gain parameters are tuned to get an optimal performance.

## Adaptive Law

To further improve the performance of the controller, an adaptive law is designed(check formulation post for mathemtical explaination) for the gains of rotational and advance velocities. These gains are dependent on the angular error and front lateral distance error respectively so that these could be compensated for adaptively based on the next points on the trajectory. These adaptive gains ensure that the robot is slowed down or sped up based on the trajectory both in the rotational and lateral aspect such the sharp turns are tracked effectively. The gain parameters in this adaptive gain formulation are also tuned for optimal performance.

## Testing

This overall control scheme has been testing on various environments of Coppelia sim available on the robocomp framework.

## Further Developments

The controller could be tested on further cha

https://user-images.githubusercontent.com/41301235/189522425-c288c63e-7b75-4829-bb23-6bdaadf2b82e.mp4

llenging environments to test the performance. The rate on convergence could be improved, so that the overall tracking performance could be observed at faster speeds. 

